<div id="finance" class="container">
    <div ng-show="state.current.name == 'FinanceOverview'" class="secondary-menu">
        <div class="title-container">
            <div class="title">Finance Overview</div>
        </div>
        <div class="filters-container">
            <section>
                <dl>
                    <dd>
                        <select ng-model="scopeData.filter.LocationId" ng-options="selectListItem.Id as selectListItem.Name for selectListItem in modelData.Locations">
                            <option></option>
                        </select>
                    </dd>
                </dl>
                <dl>
                    <dd>
                        <select ng-model="scopeData.filter.ReportDateFilter.ReportDateId" ng-options="selectListItem.Id as selectListItem.Name for selectListItem in modelData.ReportDates" ng-change="scopeData.filter.ReportDateFilter.DateFrom = null; scopeData.filter.ReportDateFilter.DateTo = null;"></select>
                    </dd>
                </dl>

                <dl ng-show="scopeData.filter.ReportDateFilter.ReportDateId === modelData.ReportDateIdEnums.AllTimeOrSelectDateRange" class="dl-XS">
                    <dd>
                        <input ng-model="scopeData.filter.ReportDateFilter.DateFrom" placeholder="Date (From)" ng-change="delayFilterSearch = true" date-input />
                    </dd>
                </dl>
                
                <dl ng-show="scopeData.filter.ReportDateFilter.ReportDateId === modelData.ReportDateIdEnums.AllTimeOrSelectDateRange" class="dl-XS">
                    <dd>
                        <input ng-model="scopeData.filter.ReportDateFilter.DateTo" placeholder="Date (To)" ng-change="delayFilterSearch = true" date-input />
                    </dd>
                </dl>
            </section>
        </div>
        <div class="buttons">
            <!--<button class="button main" ng-click="goListView()">List View 表格</button>-->
            <button class="button main" ng-click="getFinance()">Refresh</button>
        </div>
    </div>

    <div class="title">Overview</div>
    <div class="panels">
        <div class="panel profit">
            <div class="content">${{model.Profit | number: 2}}</div>
            <div class="text">Profit</div>
        </div>
        <div class="panel expense">
            <div class="content">${{model.Expense | number: 2}}</div>
            <div class="text">Expense</div>
        </div>
        <div class="panel">
            <div class="content">${{model.Revenue | number: 2}}</div>
            <div class="text">Revenue</div>
        </div>
        <div class="panel">
            <div class="content">{{model.ReceivedCallCount | number: 0}}</div>
            <div class="text">Calls Received</div>
        </div>
    </div>
    <div class="panels">
        <div class="panel">
            <div class="content">{{model.ProductSoldCount | number: 0}}</div>
            <div class="text">Products Sold</div>
        </div>
        <div class="panel">
            <div class="content">{{model.ProductCancelledCount | number: 0}}</div>
            <div class="text">Products Cancelled</div>
        </div>
        <div class="panel">
            <div class="content">{{model.ProductPendingCount | number: 0}}</div>
            <div class="text">Products Pending</div>
        </div>
        <div class="panel">
            <div class="content">{{model.ProductTotalCount | number: 0}}</div>
            <div class="text">Products Total</div>
        </div>
    </div>
    <div class="panels">
        <div class="panel">
            <div class="content">{{model.InvoiceSoldCount | number: 0}}</div>
            <div class="text">Invoices Sold</div>
        </div>
        <div class="panel">
            <div class="content">{{model.InvoiceCancelledCount | number: 0}}</div>
            <div class="text">Invoices Cancelled</div>
        </div>
        <div class="panel">
            <div class="content">{{model.InvoicePendingCount | number: 0}}</div>
            <div class="text">Invoices Pending</div>
        </div>
        <div class="panel">
            <div class="content">{{model.InvoiceTotalCount | number: 0}}</div>
            <div class="text">Invoices Total</div>
        </div>
    </div>

    <div ng-show="model.Revenues.length > 0" class="chart">
        <div class="title">Revenue</div>

        <div class="chart-wrapper">
            <canvas class="chart chart-bar" chart-data="revenueNumbers" chart-labels="revenueDates" height="70" chart-options="generalChartOptions"></canvas>
        </div>
    </div>

    <div ng-show="model.Calls.length > 0" class="chart">
        <div class="title">Calls vs Sold Invoices</div>

        <div class="chart-wrapper">
            <canvas class="chart chart-bar" chart-data="callCounts" chart-labels="callDates" height="70" chart-options="generalChartOptions"></canvas>
        </div>
    </div>

    <div ng-show="model.Products.length > 0" class="chart">
        <div class="title">Sold vs Cancelled Products</div>

        <div class="chart-wrapper">
            <canvas class="chart chart-bar" chart-data="productCounts" chart-labels="productNames" height="70" chart-options="generalChartOptions"></canvas>
        </div>
    </div>

    <div ui-view class="ng-animate-enabled"></div>
</div>
